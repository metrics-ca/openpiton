Support Ariane RV64IMAC Core
============================

Assuming all prerequisites have been completed, here is all you need to do to run the test:

      cd <top of the repository>  # which is where you currently are reading this file
      source ./setup.bash
      cd ./build
      mkplilib clean dsim

      If you would prefer to run using VPI, do these steps:

           mkplilib dsim
           sims -sys=manycore -x_tiles=2 -y_tiles=2 -clean -dsim_build -ariane
           sims -sys=manycore -x_tiles=2 -y_tiles=2 -dsim_run -ariane hello_world_many.c -rtl_timeout 10000000

      If you would prefer to run using DPI, do these steps:

           mkplilib dsim_dpi
           USE_DPI=1 sims -sys=manycore -x_tiles=2 -y_tiles=2 -clean -dsim_build -ariane -config_rtl=PITON_DPI
           USE_DPI=1 sims -sys=manycore -x_tiles=2 -y_tiles=2 -dsim_run -ariane hello_world_many.c -rtl_timeout 10000000
    

Prerequisites
=============

1. Install libbit-vector-perl library (done for eng-1 host):
   for Debian-10, it is https://packages.debian.org/buster/libbit-vector-perl

2. Prepare RISC-V toolchain, and the components needed for tests:

   a) Build the RISC-V toolchain, and the components:
        export ROOT=$PITON_ROOT
        ./piton/ariane_build_tools.sh

      Note that this will take a while.  Once completed, verify the location of
      riscv64-unknown-elf-gcc:
        which riscv64-unknown-elf-gcc
      The expected location is:
        /scratch/user/$USER/tool/riscv_install/bin/riscv64-unknown-elf-gcc

   b) WARNING
        This step is needed only if the previous step (a) is unsuccessful:
          module load riscv_tools/dev

        Verify the location of riscv64-unknown-elf-gcc:
          which riscv64-unknown-elf-gcc
        The expected location is:
          /tools/riscv_tools/dev/bin/riscv64-unknown-elf-gcc
